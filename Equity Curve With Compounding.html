```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Equity Curve - Compounded (ISO dates)</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
  <style>
    body { background: #1a1a1a; color: #fff; font-family: Arial, sans-serif; padding: 18px; }
    canvas { background: #0f0f0f; border-radius: 8px; display:block; max-width:100%; }
  </style>
</head>
<body>
  <h2>Equity Curve (Compounded) — Version A (ISO dates)</h2>
  <canvas id="chartCompA"></canvas>

  <script>
    const trades = [
      // same full list as before but ISO strings
      { date: "2022-01-05", pnl: -1 }, { date: "2022-01-06", pnl: 1.9 }, { date: "2022-01-07", pnl: -1 },
      { date: "2022-01-11", pnl: -1 }, { date: "2022-01-14", pnl: 4.1 }, { date: "2022-01-27", pnl: -1 },
      { date: "2022-02-01", pnl: 0.5 }, { date: "2022-02-14", pnl: 3.5 }, { date: "2022-02-15", pnl: -1 },
      { date: "2022-02-16", pnl: 7 }, { date: "2022-02-17", pnl: 3 }, { date: "2022-02-23", pnl: 7.76 },
      { date: "2022-02-24", pnl: 6 }, { date: "2022-02-28", pnl: 3.5 }, { date: "2022-03-01", pnl: -1 },
      { date: "2022-03-03", pnl: -0.1 }, { date: "2022-03-10", pnl: -1 }, { date: "2022-03-16", pnl: -1 },
      { date: "2022-03-17", pnl: -1 }, { date: "2022-03-23", pnl: 1.6 }, { date: "2022-03-24", pnl: -1 },
      { date: "2022-03-29", pnl: -1 }, { date: "2022-04-05", pnl: 7.83 }, { date: "2022-04-07", pnl: 2.5 },
      { date: "2022-04-11", pnl: -0.8 }, { date: "2022-04-12", pnl: -1 }, { date: "2022-04-13", pnl: -1 },
      { date: "2022-04-28", pnl: -1 }, { date: "2022-05-09", pnl: -1 }, { date: "2022-05-10", pnl: -0.3 },
      { date: "2022-05-18", pnl: 9.5 }, { date: "2022-05-19", pnl: 2.5 }, { date: "2022-05-26", pnl: 5.75 },
      { date: "2022-06-01", pnl: -1 }, { date: "2022-06-22", pnl: -1 }, { date: "2022-06-23", pnl: -1 },
      { date: "2022-06-28", pnl: 4.85 }, { date: "2022-06-30", pnl: -1 }, { date: "2022-07-06", pnl: 0 },
      { date: "2022-07-07", pnl: -1 }, { date: "2022-07-14", pnl: -1 }, { date: "2022-07-19", pnl: 2.65 },
      { date: "2022-07-26", pnl: 2.5 }, { date: "2022-07-27", pnl: 5.5 }, { date: "2022-08-08", pnl: 0 },
      { date: "2022-08-09", pnl: 5.5 }, { date: "2022-08-11", pnl: -1 }, { date: "2022-08-23", pnl: 0.5 },
      { date: "2022-08-24", pnl: -1 }, { date: "2022-08-25", pnl: 1.8 }, { date: "2022-09-01", pnl: 2.5 },
      { date: "2022-09-08", pnl: -1 }, { date: "2022-09-19", pnl: -1 }, { date: "2022-09-27", pnl: -1 },
      { date: "2022-09-29", pnl: 10.35 }, { date: "2022-10-06", pnl: -1 }, { date: "2022-10-11", pnl: 3.5 },
      { date: "2022-10-12", pnl: 1 }, { date: "2022-10-17", pnl: 2.9 }, { date: "2022-10-19", pnl: 0 },
      { date: "2022-10-25", pnl: 3.1 }, { date: "2022-10-26", pnl: 0 }, { date: "2022-11-07", pnl: -1 },
      { date: "2022-11-09", pnl: 2.7 }, { date: "2022-11-10", pnl: 1.7 }, { date: "2022-11-16", pnl: 2.4 },
      { date: "2022-11-17", pnl: -1 }, { date: "2022-11-21", pnl: -1 }, { date: "2022-11-22", pnl: 3.34 },
      { date: "2022-11-23", pnl: 2.5 }, { date: "2022-12-05", pnl: 9.5 }, { date: "2022-12-06", pnl: 4 },
      { date: "2022-12-08", pnl: 0 }, { date: "2022-12-12", pnl: 3.3 }, { date: "2022-12-20", pnl: 3.5 },
      { date: "2022-12-21", pnl: 2.2 }, { date: "2022-12-29", pnl: 3 },
      { date: "2023-01-03", pnl: -1 }, { date: "2023-01-09", pnl: 2.7 }, { date: "2023-01-12", pnl: 1 },
      { date: "2023-01-18", pnl: -1 }, { date: "2023-01-20", pnl: 3.3 }, { date: "2023-01-23", pnl: 4.7 },
      { date: "2023-01-26", pnl: -2 }, { date: "2023-01-27", pnl: 3.8 }, { date: "2023-02-06", pnl: -1 },
      { date: "2023-02-08", pnl: 3.5 }, { date: "2023-02-09", pnl: -0.5 }, { date: "2023-02-10", pnl: -1 },
      { date: "2023-02-13", pnl: 3.2 }, { date: "2023-02-15", pnl: 5 }, { date: "2023-02-16", pnl: -0.5 },
      { date: "2023-02-21", pnl: -1 }, { date: "2023-02-22", pnl: 0 }, { date: "2023-02-23", pnl: -1 },
      { date: "2023-03-03", pnl: 3.2 }, { date: "2023-03-08", pnl: 0 }, { date: "2023-03-10", pnl: -1 },
      { date: "2023-03-15", pnl: 3 }, { date: "2023-03-16", pnl: -1 }, { date: "2023-03-17", pnl: 1 },
      { date: "2023-03-21", pnl: 4.5 }, { date: "2023-03-22", pnl: -1 }, { date: "2023-03-29", pnl: 4.3 },
      { date: "2023-03-30", pnl: 2.75 }, { date: "2023-03-31", pnl: 2.65 }, { date: "2023-04-03", pnl: 3.5 },
      { date: "2023-04-04", pnl: -1 }, { date: "2023-04-06", pnl: -1 }, { date: "2023-04-11", pnl: 0 },
      { date: "2023-04-12", pnl: -1 }, { date: "2023-04-14", pnl: 4 }, { date: "2023-04-14", pnl: 1.7 },
      { date: "2023-04-17", pnl: 3.5 }, { date: "2023-04-19", pnl: -1 }, { date: "2023-04-20", pnl: 2.4 },
      { date: "2023-04-25", pnl: 2.1 }, { date: "2023-04-26", pnl: -1 }, { date: "2023-04-27", pnl: 5 },
      { date: "2023-04-28", pnl: 3.5 }, { date: "2023-05-02", pnl: 6.5 }, { date: "2023-05-03", pnl: -1 },
      { date: "2023-05-04", pnl: -1 }, { date: "2023-05-10", pnl: -1 }, { date: "2023-05-11", pnl: -1 },
      { date: "2023-05-12", pnl: -1 }, { date: "2023-05-16", pnl: -1 }, { date: "2023-05-19", pnl: 5.1 },
      { date: "2023-05-23", pnl: 4.3 }, { date: "2023-05-24", pnl: -1 }, { date: "2023-06-07", pnl: 0 },
      { date: "2023-06-08", pnl: -1 }, { date: "2023-06-13", pnl: 1 }, { date: "2023-06-15", pnl: 3 },
      { date: "2023-06-20", pnl: 3.8 }, { date: "2023-06-22", pnl: 3.1 }, { date: "2023-06-23", pnl: 2.8 },
      { date: "2023-06-27", pnl: 2.6 }, { date: "2023-06-28", pnl: -1 }, { date: "2023-06-29", pnl: -0.5 },
      { date: "2023-07-07", pnl: 0 }, { date: "2023-07-11", pnl: -1 }, { date: "2023-07-12", pnl: -1 },
      { date: "2023-07-13", pnl: -1 }, { date: "2023-07-18", pnl: -1 }, { date: "2023-07-20", pnl: -1 },
      { date: "2023-07-24", pnl: 0.5 }, { date: "2023-07-25", pnl: -1 }, { date: "2023-07-26", pnl: -1 },
      { date: "2023-08-14", pnl: 1 }, { date: "2023-08-21", pnl: 2.5 }, { date: "2023-09-11", pnl: -1 },
      { date: "2023-09-14", pnl: 3.5 }, { date: "2023-09-18", pnl: -1 }, { date: "2023-09-19", pnl: 3 },
      { date: "2023-09-20", pnl: -1 }, { date: "2023-09-21", pnl: 1.8 }, { date: "2023-09-28", pnl: 2.9 },
      { date: "2023-10-02", pnl: 2.5 }, { date: "2023-10-04", pnl: 1.5 }, { date: "2023-10-05", pnl: 2.6 },
      { date: "2023-10-11", pnl: 4.6 }, { date: "2023-10-12", pnl: -1 }, { date: "2023-10-13", pnl: -1 },
      { date: "2023-10-16", pnl: 3.4 }, { date: "2023-10-17", pnl: -1 }, { date: "2023-10-18", pnl: 3.3 },
      { date: "2023-10-19", pnl: -1 }, { date: "2023-10-20", pnl: -1 }, { date: "2023-10-24", pnl: -1 },
      { date: "2023-10-25", pnl: 5.5 }, { date: "2023-10-26", pnl: -1 }, { date: "2023-10-26", pnl: -1 },
      { date: "2023-10-27", pnl: 2.8 }, { date: "2023-11-08", pnl: -1 }, { date: "2023-11-09", pnl: 4 },
      { date: "2023-11-10", pnl: 2.6 }, { date: "2023-11-15", pnl: -1 }, { date: "2023-11-16", pnl: -1 },
      { date: "2023-11-23", pnl: -1 }, { date: "2023-11-24", pnl: 1 }, { date: "2023-12-05", pnl: 2.75 },
      { date: "2023-12-06", pnl: -1 }, { date: "2023-12-15", pnl: 0 }, { date: "2023-12-18", pnl: 2.5 },
      { date: "2023-12-20", pnl: -1 }, { date: "2023-12-22", pnl: 0 },
      { date: "2024-01-04", pnl: -1 }, { date: "2024-01-10", pnl: 3.2 }, { date: "2024-01-11", pnl: 2.6 },
      { date: "2024-01-17", pnl: -1 }, { date: "2024-01-18", pnl: 3 }, { date: "2024-01-19", pnl: -1 },
      { date: "2024-01-24", pnl: -1 }, { date: "2024-01-25", pnl: -1 }, { date: "2024-01-26", pnl: -1 },
      { date: "2024-02-05", pnl: -1 }, { date: "2024-02-06", pnl: -1 }, { date: "2024-02-07", pnl: 0.3 },
      { date: "2024-02-08", pnl: -1 }, { date: "2024-02-21", pnl: -1 }, { date: "2024-02-22", pnl: 2 },
      { date: "2024-03-06", pnl: -0.5 }, { date: "2024-03-07", pnl: 0.9 }, { date: "2024-03-14", pnl: 4.5 },
      { date: "2024-03-20", pnl: -1 }, { date: "2024-03-21", pnl: -1 }, { date: "2024-04-04", pnl: -1 },
      { date: "2024-04-16", pnl: 0 }, { date: "2024-04-17", pnl: -1 }, { date: "2024-04-18", pnl: 0 },
      { date: "2024-04-25", pnl: -1 }, { date: "2024-05-09", pnl: 1.8 }, { date: "2024-05-14", pnl: -1 },
      { date: "2024-05-15", pnl: 2 }, { date: "2024-05-16", pnl: -1 }, { date: "2024-05-21", pnl: -1 },
      { date: "2024-05-24", pnl: 6.3 }, { date: "2024-05-29", pnl: -1 }, { date: "2024-05-31", pnl: 5.3 },
      { date: "2024-06-04", pnl: -1 }, { date: "2024-06-07", pnl: -1 }, { date: "2024-06-20", pnl: -1 },
      { date: "2024-06-21", pnl: -1 }, { date: "2024-06-26", pnl: -1 }, { date: "2024-07-01", pnl: -1 },
      { date: "2024-07-08", pnl: -1 }, { date: "2024-07-11", pnl: -1 }, { date: "2024-07-18", pnl: -1 },
      { date: "2024-07-22", pnl: -1 }, { date: "2024-07-23", pnl: 0 }, { date: "2024-07-24", pnl: 1.75 },
      { date: "2024-07-25", pnl: 3 }, { date: "2024-08-06", pnl: -1 }, { date: "2024-08-26", pnl: -1 },
      { date: "2024-08-28", pnl: 2.65 }, { date: "2024-08-29", pnl: 1.1 }, { date: "2024-08-30", pnl: -1 },
      { date: "2024-09-04", pnl: -1 }, { date: "2024-09-05", pnl: -1 }, { date: "2024-09-12", pnl: -1 },
      { date: "2024-09-17", pnl: -1 }, { date: "2024-09-24", pnl: 5 }, { date: "2024-09-25", pnl: -1 },
      { date: "2024-09-26", pnl: 1 }, { date: "2024-10-09", pnl: 4.5 }, { date: "2024-10-17", pnl: -1 },
      { date: "2024-10-22", pnl: 4.5 }, { date: "2024-10-23", pnl: 1.5 }, { date: "2024-11-05", pnl: 1.7 },
      { date: "2024-11-06", pnl: -1 }, { date: "2024-11-07", pnl: 1.6 }, { date: "2024-11-13", pnl: -1 },
      { date: "2024-11-15", pnl: 4.1 }, { date: "2024-11-25", pnl: -1 }, { date: "2024-11-27", pnl: 2.6 },
      { date: "2024-12-04", pnl: 0 }, { date: "2024-12-06", pnl: -1 }, { date: "2024-12-11", pnl: 2 },
      { date: "2024-12-12", pnl: -1 }, { date: "2024-12-16", pnl: 0 }, { date: "2024-12-19", pnl: 2 }
    ];

    const initialBalance = 100000;
    let balance = initialBalance;
    const equityData = [{ x: trades[0].date, y: balance }];

    trades.forEach(tr => {
      balance *= (1 + tr.pnl / 100); // compounded
      equityData.push({ x: tr.date, y: Math.round(balance * 100) / 100 });
    });

    equityData.sort((a,b) => new Date(a.x) - new Date(b.x));

    const sp500Data = [
      { x: "2022-01-05", y: 100000 },
      { x: "2022-12-31", y: 81890 },
      { x: "2023-12-31", y: 103429 },
      { x: "2024-12-19", y: 126550 }
    ];

    const ctx = document.getElementById('chartCompA').getContext('2d');
    new Chart(ctx, {
      type: 'line',
      data: {
        datasets: [
          {
            label: 'Trading Strategy (compounded)',
            data: equityData,
            borderColor: '#7CFC00',
            backgroundColor: '#7CFC00',
            tension: 0.12,
            parsing: { xAxisKey: 'x', yAxisKey: 'y' },
            borderWidth: 2,
            pointRadius: 0
          },
          {
            label: 'S&P 500 Buy-and-Hold',
            data: sp500Data,
            borderColor: '#FF4500',
            backgroundColor: '#FF4500',
            parsing: { xAxisKey: 'x', yAxisKey: 'y' },
            borderWidth: 2,
            pointRadius: 3
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { labels: { color: '#fff' } },
          title: { display: true, text: 'Equity Curve — Compounded (ISO dates)', color:'#fff' }
        },
        scales: {
          x: { type: 'time', time: { unit: 'month' }, ticks: { color:'#ddd' }, title: { display: true, text:'Date', color:'#ddd' } },
          y: { ticks: { callback: v => '$' + Number(v).toLocaleString(), color:'#ddd' }, title: { display: true, text: 'Account Balance ($)', color:'#ddd' } }
        }
      }
    });

    console.log('compounded points:', equityData.length);
  </script>
</body>
</html>
```
